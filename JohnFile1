code from john

file eddited for jenkins
